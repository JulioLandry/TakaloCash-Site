<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portefeuille Dépôt / Retrait / Transfert</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    margin: 0;
    padding: 20px;
  }
  .container {
    max-width: 700px;
    margin: auto;
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }
  h2 {
    text-align: center;
    color: #333;
  }
  label {
    display: block;
    margin-top: 15px;
    font-weight: bold;
  }
  select, input[type="number"] {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border-radius: 5px;
    border: 1px solid #ccc;
  }
  .note {
    background: #fff8c4;
    border-left: 4px solid #ffcc00;
    padding: 10px;
    margin-top: 10px;
    display: none;
  }
  button {
    margin-top: 20px;
    width: 100%;
    padding: 10px;
    background: #007bff;
    color: white;
    border: none;
    border-radius: 7px;
    font-size: 16px;
    cursor: pointer;
  }
  button:hover {
    background: #0056b3;
  }
</style>
</head>
<body>
<div class="container">
  <h2>Portefeuille Dépôt / Retrait / Transfert</h2>

  <label for="operation">Opération:</label>
  <select id="operation">
    <option value="depot">Dépôt</option>
    <option value="retrait">Retrait</option>
    <option value="transfert">Transfert</option>
  </select>

  <label for="source">Depuis:</label>
  <select id="source"></select>

  <label for="destination">Vers:</label>
  <select id="destination"></select>

  <label for="amount">Montant:</label>
  <input type="number" id="amount" placeholder="Entrez le montant">

  <div class="note" id="wu-note">
    ⚠️ Pour Western Union, vous devez vous rendre en agence pour effectuer le dépôt ou le retrait.
  </div>

  <button id="submitBtn">Valider</button>
</div>

<script>
  // Hardcoded lists
  const cryptoList = ["BTC", "ETH", "LTC", "BCH", "USDT"];
  const ewalletList = ["PayPal", "Skrill", "Neteller", "Perfect Money"];
  const mobileMoneyList = ["Mvola", "Airtel Money", "Orange Money"];
  const wuList = ["Western Union"];

  const operationEl = document.getElementById("operation");
  const sourceEl = document.getElementById("source");
  const destinationEl = document.getElementById("destination");
  const wuNoteEl = document.getElementById("wu-note");

  function populateDropdowns() {
    const operation = operationEl.value;

    // Clear previous options
    sourceEl.innerHTML = "";
    destinationEl.innerHTML = "";

    if (operation === "depot") {
      // Dépôt: depuis Mobile Money ou WU vers Crypto/E-wallet
      mobileMoneyList.concat(wuList).forEach(item => {
        const opt = document.createElement("option");
        opt.value = item;
        opt.textContent = item;
        sourceEl.appendChild(opt);
      });

      cryptoList.concat(ewalletList).forEach(item => {
        const opt = document.createElement("option");
        opt.value = item;
        opt.textContent = item;
        destinationEl.appendChild(opt);
      });

    } else if (operation === "retrait") {
      // Retrait: depuis Crypto/E-wallet vers Mobile Money/WU
      cryptoList.concat(ewalletList).forEach(item => {
        const opt = document.createElement("option");
        opt.value = item;
        opt.textContent = item;
        sourceEl.appendChild(opt);
      });

      mobileMoneyList.concat(wuList).forEach(item => {
        const opt = document.createElement("option");
        opt.value = item;
        opt.textContent = item;
        destinationEl.appendChild(opt);
      });

    } else if (operation === "transfert") {
      // Transfert: Crypto/E-wallet vers Crypto/E-wallet
      cryptoList.concat(ewalletList).forEach(item => {
        const optSource = document.createElement("option");
        optSource.value = item;
        optSource.textContent = item;
        sourceEl.appendChild(optSource);

        const optDest = document.createElement("option");
        optDest.value = item;
        optDest.textContent = item;
        destinationEl.appendChild(optDest);
      });
    }

    showWUInfo();
  }

  function showWUInfo() {
    if (sourceEl.value === "Western Union" || destinationEl.value === "Western Union") {
      wuNoteEl.style.display = "block";
    } else {
      wuNoteEl.style.display = "none";
    }
  }

  // Event listeners
  operationEl.addEventListener("change", populateDropdowns);
  sourceEl.addEventListener("change", showWUInfo);
  destinationEl.addEventListener("change", showWUInfo);

  document.getElementById("submitBtn").addEventListener("click", () => {
    const op = operationEl.value;
    const from = sourceEl.value;
    const to = destinationEl.value;
    const amount = document.getElementById("amount").value;

    if (!amount || amount <= 0) {
      alert("Veuillez entrer un montant valide.");
      return;
    }

    alert(`Opération: ${op}\nDepuis: ${from}\nVers: ${to}\nMontant: ${amount}`);
  });

  // Initial population
  populateDropdowns();
</script>
</body>
</html>
